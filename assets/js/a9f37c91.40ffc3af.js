(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{103:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return i})),r.d(t,"metadata",(function(){return l})),r.d(t,"toc",(function(){return s})),r.d(t,"default",(function(){return b}));var n=r(3),a=r(7),o=(r(0),r(123)),i={title:"Simple Arbitrage"},l={unversionedId:"simple-arbitrage",id:"simple-arbitrage",isDocsHomePage:!1,title:"Simple Arbitrage",description:"================",source:"@site/docs/simple-arbitrage.md",slug:"/simple-arbitrage",permalink:"/docs/simple-arbitrage",editUrl:"https://github.com/flashbots/docs/edit/main/docs/simple-arbitrage.md",version:"current"},s=[],c={toc:s};function b(e){var t=e.components,r=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},c,r,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"================\nThis repository contains a simple, mechanical system for discovering, evaluating, rating, and submitting arbitrage opportunities to the Flashbots bundle endpoint. This script is very unlikely to be profitable, as many users have access to it, and it is targeting well-known Ethereum opportunities."),Object(o.b)("p",null,"We hope you will use this repository as an example of how to integrate Flashbots into your own Flashbot searcher (bot). For more information, see the ",Object(o.b)("a",{parentName:"p",href:"https://github.com/flashbots/pm/blob/main/guides/searcher-onboarding.md"},"Flashbots Searcher FAQ")),Object(o.b)("h1",{id:"environment-variables"},"Environment Variables"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"ETHEREUM_RPC_URL")," - Ethereum RPC endpoint. Can not be the same as FLASHBOTS_RPC_URL"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"PRIVATE_KEY")," - Private key for the Ethereum EOA that will be submitting Flashbots Ethereum transactions"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"FLASHBOTS_RELAY_SIGNING_KEY")," ",Object(o.b)("em",{parentName:"li"},"[Optional, default: random]")," - Flashbots submissions require an Ethereum private key to sign transaction payloads. This newly-created account does not need to hold any funds or correlate to any on-chain activity, it just needs to be used across multiple Flashbots RPC requests to identify requests related to same searcher. Please see ",Object(o.b)("a",{parentName:"li",href:"https://github.com/flashbots/pm/blob/main/guides/flashbots-alpha.md"},"https://github.com/flashbots/pm/blob/main/guides/flashbots-alpha.md")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"HEALTHCHECK_URL")," ",Object(o.b)("em",{parentName:"li"},"[Optional]")," - Health check URL, hit only after successfully submitting a bundle."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"MINER_REWARD_PERCENTAGE")," ",Object(o.b)("em",{parentName:"li"},"[Optional, default 80]")," - 0 -> 100, what percentage of overall profitability to send to miner.")),Object(o.b)("h1",{id:"usage"},"Usage"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Generate a new bot wallet address and extract the private key into a raw 32-byte format."),Object(o.b)("li",{parentName:"ol"},"Deploy the included BundleExecutor.sol to Ethereum, from a secured account, with the address of the newly created wallet as the constructor argument"),Object(o.b)("li",{parentName:"ol"},"Transfer WETH to the newly deployed BundleExecutor")),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"It is important to keep both the bot wallet private key and bundleExecutor owner private key secure. The bot wallet attempts to not lose WETH inside an arbitrage, but a malicious user would be able to drain the contract.")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"$ npm install\n$ PRIVATE_KEY=__PRIVATE_KEY_FROM_ABOVE__ \\\n    BUNDLE_EXECUTOR_ADDRESS=__DEPLOYED_ADDRESS_FROM_ABOVE__ \\\n    FLASHBOTS_RELAY_SIGNING_KEY=__RANDOM_ETHEREUM_PRIVATE_KEY__ \\\n      npm run start\n")))}b.isMDXComponent=!0},123:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return d}));var n=r(0),a=r.n(n);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=a.a.createContext({}),b=function(e){var t=a.a.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},p=function(e){var t=b(e.components);return a.a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},m=a.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=b(r),m=n,d=p["".concat(i,".").concat(m)]||p[m]||u[m]||o;return r?a.a.createElement(d,l(l({ref:t},c),{},{components:r})):a.a.createElement(d,l({ref:t},c))}));function d(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var c=2;c<o;c++)i[c]=r[c];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,r)}m.displayName="MDXCreateElement"}}]);